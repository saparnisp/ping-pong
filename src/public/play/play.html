<!DOCTYPE html>
<html lang="lt">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>Valdymas</title>
    <link rel="stylesheet" href="controls.css" />
  </head>
  <body>
    <div class="container">
    <div id="waiting-screen">
      <h3>Laukiama žaidimo pradžios</h2>
      <p>Ekranas:</p>
      <h1 id="screen-id"></h3>
      <p>Žaidėjų eilėje: <span id="queue-count">0</span></p>
      <p>Jūsų pozicija: <span id="queue-position">...</span></p>
      <button id="start-button" class="menu-button" style="display: none">
        Pradėti žaidimą
      </button>
    </div>

    <div id="gameOverScreen" style="display: none" class="modal">
      <div class="modal-content">
        <h2>Žaidimas baigtas!</h2>
        <p>Taškai: <span id="finalScore">0</span></p>
        <p>Eilutės: <span id="finalLines">0</span></p>
        <p>Lygis: <span id="finalLevel">0</span></p>
        <button id="closeButton" class="menu-button">Grįžti į meniu</button>
      </div>
    </div>

    <div class="canvas-block">
      <canvas
      id="gameBoard"
      style="
        background: #111;
        margin: 20px auto;
        display: block;
      "
      ></canvas>
    </div>

    
    <div class="game-elements" style="display: none">
      <div class="game-info">
        <div class="info-item">
          <div>Taškai</div>
          <div id="score" class="info-value">0</div>
        </div>
        <div class="info-item">
          <div>Lygis</div>
          <div id="level" class="info-value">1</div>
        </div>
        <div class="info-item">
          <div>Eilutės</div>
          <div id="lines" class="info-value">0</div>
        </div>
      </div>

      <div class="next-piece-preview">
        <h3>Kita figūra</h3>
        <canvas id="nextPiece" class="next-piece"></canvas>
      </div>

      <div class="controls">
        <div class="keyboard-controls">
          <h2>Klaviatūros valdymas</h2>
          <ul>
            <li>← → : Judėti į šonus</li>
            <li>↓ : Judėti žemyn</li>
            <li>↑ : Pasukti figūrą</li>
          </ul>
        </div>
        <div class="buttons">
          <button class="btn btn-rotate" data-action="rotate">
            <img width="16" height="16" src="../icons/rotate.svg" alt="Rotate"/>
          </button>
          <button class="btn btn-left" data-action="left">
            <img width="16" height="16" src="../icons/arrow-left.svg" alt="Left"/>
          </button>
          <button class="btn btn-down" data-action="down">
            <img width="16" height="16" src="../icons/arrow-down.svg" alt="Drop"/>
          </button>
          <button class="btn btn-right" data-action="right">
            <img width="16" height="16" src="../icons/arrow-right.svg" alt="Right"/>
          </button>
        </div>
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="play.js"></script>
    </div>
  </body>
</html>
