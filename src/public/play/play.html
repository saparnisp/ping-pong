<!DOCTYPE html>
<html lang="lt">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico" />
    <title>Valdymas</title>
    <link rel="stylesheet" href="controls.css" />
  </head>
  <body>
    <button id="language-switcher">EN</button>
    <div class="container">
    <div id="waiting-screen">
      <h3 data-lt="Laukiama žaidimo pradžios" data-en="Waiting for game start">Laukiama žaidimo pradžios</h3>
      <p><span data-lt="Ekranas" data-en="Screen">Ekranas</span>:</p>
      <h1 id="screen-id"></h1>
      <p><span data-lt="Žaidėjų eilėje" data-en="Players in queue">Žaidėjų eilėje</span>: <span id="queue-count">0</span></p>
      <p><span data-lt="Jūsų pozicija" data-en="Your position">Jūsų pozicija</span>: <span id="queue-position">...</span></p>
      <p class="warning-text" data-lt="Užrakinus telefoną prarasite vietą eilėje" data-en="Locking your phone will lose your place in queue">
        Užrakinus telefoną prarasite vietą eilėje
      </p>
    </div>

    <div id="gameOverScreen" style="display: none" class="modal">
      <div class="modal-content">
        <h2 data-lt="Žaidimas baigtas!" data-en="Game Over!">Žaidimas baigtas!</h2>
        <p><span data-lt="Taškai" data-en="Score">Taškai</span>: <span id="finalScore">0</span></p>
        <p><span data-lt="Eilutės" data-en="Lines">Eilutės</span>: <span id="finalLines">0</span></p>
        <p><span data-lt="Lygis" data-en="Level">Lygis</span>: <span id="finalLevel">0</span></p>
        <button id="closeButton" class="menu-button" data-lt="Grįžti į meniu" data-en="Return to menu">Grįžti į meniu</button>
      </div>
    </div>

    <div class="canvas-block">
      <canvas
      id="gameBoard"
      style="
        background: #111;
        margin: 20px auto;
        display: block;
      "
      ></canvas>
    </div>

    
    <div class="game-elements" style="display: none">
      <div class="info-item">
        <div data-lt="Langas" data-en="Screen">Langas</div>
        <div id="screen" class="info-level"></div>
      </div>
      <div class="game-info">
        <div class="info-item">
          <div data-lt="Taškai" data-en="Score">Taškai</div>
          <div id="score" class="info-value">0</div>
        </div>
        <div class="info-item">
          <div data-lt="Lygis" data-en="Level">Lygis</div>
          <div id="level" class="info-value">1</div>
        </div>
        <div class="info-item">
          <div data-lt="Eilutės" data-en="Lines">Eilutės</div>
          <div id="lines" class="info-value">0</div>
        </div>
      </div>

      <div class="next-piece-preview">
        <h3 data-lt="Kita figūra" data-en="Next piece">Kita figūra</h3>
        <canvas id="nextPiece" class="next-piece"></canvas>
      </div>

      <div class="controls">
        <div class="keyboard-controls">
          <h2 data-lt="Klaviatūros valdymas" data-en="Keyboard controls">Klaviatūros valdymas</h2>
          <ul>
            <li data-lt="← → : Judėti į šonus" data-en="← → : Move sideways">← → : Judėti į šonus</li>
            <li data-lt="↓ : Judėti žemyn" data-en="↓ : Move down">↓ : Judėti žemyn</li>
            <li data-lt="↑ : Pasukti figūrą" data-en="↑ : Rotate piece">↑ : Pasukti figūrą</li>
          </ul>
        </div>
        <div class="buttons">
          <button class="btn btn-rotate" data-action="rotate">
            <img width="16" height="16" src="../icons/rotate.svg" alt="Rotate"/>
          </button>
          <button class="btn btn-left" data-action="left">
            <img width="16" height="16" src="../icons/arrow-left.svg" alt="Left"/>
          </button>
          <button class="btn btn-down" data-action="down">
            <img width="16" height="16" src="../icons/arrow-down.svg" alt="Drop"/>
          </button>
          <button class="btn btn-right" data-action="right">
            <img width="16" height="16" src="../icons/arrow-right.svg" alt="Right"/>
          </button>
        </div>
      </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script type="module" src="play.js"></script>
    </div>
  </body>
</html>
